extends ../layout

block content
  div(class="container mx-auto px-4 py-6")
    div(class="flex items-center mb-6")
      a(href="/admin/users" class="mr-4 text-indigo-600 hover:text-indigo-800")
        i(class="bx bx-arrow-back text-xl")
      h1(class="text-3xl font-bold") Reset Password
    
    div(class="bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto" data-aos="fade-up")
      if user
        div(class="mb-6 text-center")
          if user.avatar
            img(src=user.avatar alt=user.username class="h-20 w-20 rounded-full mx-auto mb-2")
          else
            div(class="h-20 w-20 rounded-full bg-indigo-100 text-indigo-500 flex items-center justify-center mx-auto mb-2")
              i(class="bx bx-user text-3xl")
          h2(class="text-xl font-semibold") #{user.fullname}
          p(class="text-gray-500") #{user.username}
        
        form(action=`/admin/users/reset-password/${user.id}` method="POST")
          div(class="mb-4")
            label(for="password" class="block text-sm font-medium text-gray-700 mb-1") New Password
            input(type="password" id="password" name="password" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500")
          
          div(class="mb-4")
            label(for="confirm_password" class="block text-sm font-medium text-gray-700 mb-1") Confirm Password
            input(type="password" id="confirm_password" name="confirm_password" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500")
          
          div(class="mt-6 flex justify-end")
            a(href="/admin/users" class="bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg mr-2") Cancel
            button(type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-lg") Reset Password
      else
        div(class="text-center py-8")
          p(class="text-gray-500 mb-4") User not found
          a(href="/admin/users" class="text-indigo-600 hover:text-indigo-800") Back to Users 